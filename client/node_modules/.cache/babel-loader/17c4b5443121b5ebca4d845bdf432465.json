{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\Fabian FF\\\\Desktop\\\\envio\\\\sportShop\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"C:\\\\Users\\\\Fabian FF\\\\Desktop\\\\envio\\\\sportShop\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Fabian FF\\\\Desktop\\\\envio\\\\sportShop\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useContext,useState}from'react';import{GlobalState}from'../../GlobalState';import Menu from'./icons/menu.svg';import Close from'./icons/close.svg';import Cart from'./icons/cart.svg';import{Link}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";axios.defaults.withCredentials=true;function Header(){var state=useContext(GlobalState);var _state$UserAPI$isLogg=_slicedToArray(state.UserAPI.isLogged,1),isLogged=_state$UserAPI$isLogg[0];var _state$UserAPI$isAdmi=_slicedToArray(state.UserAPI.isAdmin,1),isAdmin=_state$UserAPI$isAdmi[0];var _state$UserAPI$cart=_slicedToArray(state.UserAPI.cart,1),cart=_state$UserAPI$cart[0];var _useState=useState(false),_useState2=_slicedToArray(_useState,2),menu=_useState2[0],setMenu=_useState2[1];var logoutUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/user/logout\");case 2:localStorage.removeItem(\"firsLogin\");window.location.href=\"/\";case 4:case\"end\":return _context.stop();}}},_callee);}));return function logoutUser(){return _ref.apply(this,arguments);};}();var adminRouter=function adminRouter(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/create_product\",children:\"CREAR PRODUCTO\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/category\",children:\"CATEGORIAS\"})})]});};var loggedRouter=function loggedRouter(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/history\",children:\"Historial\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",onClick:logoutUser,children:\"Logout\"})})]});};//const toggleMenu = () => setMenu(!menu)\nvar styleMenu={left:menu?0:\"-100%\"};return/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"menu\",onClick:function onClick(){return setMenu(!menu);},children:/*#__PURE__*/_jsx(\"img\",{src:Menu,alt:\"\",width:\"30\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:/*#__PURE__*/_jsx(\"h1\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:isAdmin?\"Admininstrador\":\"SPORT SHOP\"})})}),/*#__PURE__*/_jsxs(\"ul\",{style:styleMenu,children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:isAdmin?\"Productos\":\"Shop\"}),\" \"]}),isAdmin&&adminRouter(),isLogged?loggedRouter():/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login \\u263A Registro\"}),\" \"]}),/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return setMenu(!menu);},children:/*#__PURE__*/_jsx(\"img\",{src:Close,alt:\"\",width:\"30\",className:\"menu\"})})]}),isAdmin?\"\":/*#__PURE__*/_jsxs(\"div\",{className:\"cart-icon\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[cart.length,\" \"]}),/*#__PURE__*/_jsxs(Link,{to:\"/cart\",children:[/*#__PURE__*/_jsx(\"img\",{src:Cart,alt:\"\",width:\"30\"}),\" \"]})]})]});}export default Header;","map":{"version":3,"sources":["C:/Users/Fabian FF/Desktop/envio/sportShop/client/src/components/headers/Header.js"],"names":["React","useContext","useState","GlobalState","Menu","Close","Cart","Link","axios","defaults","withCredentials","Header","state","UserAPI","isLogged","isAdmin","cart","menu","setMenu","logoutUser","get","localStorage","removeItem","window","location","href","adminRouter","loggedRouter","styleMenu","left","length"],"mappings":"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","sourcesContent":["import React, {useContext, useState} from 'react';\nimport {GlobalState} from '../../GlobalState';\nimport  Menu from  './icons/menu.svg';\nimport  Close from  './icons/close.svg';\nimport  Cart from  './icons/cart.svg';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\naxios.defaults.withCredentials = true\n\n\n\nfunction Header() {\n\n  const state = useContext(GlobalState)\n\n  const [isLogged] = state.UserAPI.isLogged\n  const [isAdmin] = state.UserAPI.isAdmin\n  const [cart] = state.UserAPI.cart\n  const [menu, setMenu] = useState(false)\n\n  const logoutUser = async () =>{\n      await axios.get(\"/user/logout\")\n      localStorage.removeItem(\"firsLogin\")\n      window.location.href = \"/\"\n  }\n\n  const adminRouter = () =>{\n    return(\n      <>\n        <li><Link to={\"/create_product\"} >CREAR PRODUCTO</Link></li>\n        <li><Link to={\"/category\"} >CATEGORIAS</Link></li>\n      </>\n    )\n  }\n  const loggedRouter = () =>{\n    return(\n      <>\n        <li><Link to={\"/history\"} >Historial</Link></li>\n        <li><Link to={\"/\"} onClick={logoutUser}>Logout</Link></li>\n      </>\n    )\n  }\n\n  //const toggleMenu = () => setMenu(!menu)\n\n\n  const styleMenu = {\n    left: menu ? 0 : \"-100%\"\n  }\n\n\n\n  return (\n    <header>\n      <div className='menu' onClick={()=>setMenu(!menu)}>\n            <img src={Menu} alt=\"\" width=\"30\" />\n        </div>\n        <div className='logo'>\n            <h1>\n              <Link to={\"/\"}>{isAdmin ? \"Admininstrador\" : \"SPORT SHOP\" }</Link>\n            </h1>\n        </div>\n        <ul style={styleMenu}>\n          <li><Link to={\"/\"}>{isAdmin ? \"Productos\": \"Shop\" }</Link> </li>\n\n          {isAdmin && adminRouter()}\n          {\n            isLogged ? loggedRouter() : <li><Link to={\"/login\"}>Login â˜º Registro</Link> </li>\n          }\n\n          \n          <li onClick={()=>setMenu(!menu)}>\n            <img src={Close} alt=\"\" width=\"30\" className='menu'/>\n          </li>\n        </ul>\n        \n\n        {\n          isAdmin ? \"\" \n          :<div className='cart-icon'>\n          <span>{cart.length} </span>\n          <Link to={\"/cart\"}  ><img src={Cart} alt=\"\" width=\"30\" /> </Link>\n          </div>\n        }\n\n\n        \n    </header>\n  )\n}\n\nexport default Header;\n\n"]},"metadata":{},"sourceType":"module"}