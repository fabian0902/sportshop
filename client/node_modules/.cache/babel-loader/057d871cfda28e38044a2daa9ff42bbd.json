{"ast":null,"code":"import React,{useContext,useState}from'react';import{GlobalState}from'../../GlobalState';import Menu from'./icons/menu.svg';import Close from'./icons/close.svg';import Cart from'./icons/cart.svg';import{Link}from'react-router-dom';import axios from'axios';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";axios.defaults.withCredentials=true;function Header(){const state=useContext(GlobalState);const[isLogged]=state.UserAPI.isLogged;const[isAdmin]=state.UserAPI.isAdmin;const[cart]=state.UserAPI.cart;const[menu,setMenu]=useState(false);const logoutUser=async()=>{await axios.get(\"/user/logout\");localStorage.removeItem(\"firsLogin\");window.location.href=\"/\";};const adminRouter=()=>{return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/create_product\",children:\"CREAR PRODUCTO\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/category\",children:\"CATEGORIAS\"})})]});};const loggedRouter=()=>{return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/history\",children:\"Historial\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",onClick:logoutUser,children:\"Logout\"})})]});};//const toggleMenu = () => setMenu(!menu)\nconst styleMenu={left:menu?0:\"-100%\"};return/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"menu\",onClick:()=>setMenu(!menu),children:/*#__PURE__*/_jsx(\"img\",{src:Menu,alt:\"\",width:\"30\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:/*#__PURE__*/_jsx(\"h1\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:isAdmin?\"Admininstrador\":\"SPORT SHOP\"})})}),/*#__PURE__*/_jsxs(\"ul\",{style:styleMenu,children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:isAdmin?\"Productos\":\"Shop\"}),\" \"]}),isAdmin&&adminRouter(),isLogged?loggedRouter():/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login \\u263A Registro\"}),\" \"]}),/*#__PURE__*/_jsx(\"li\",{onClick:()=>setMenu(!menu),children:/*#__PURE__*/_jsx(\"img\",{src:Close,alt:\"\",width:\"30\",className:\"menu\"})})]}),isAdmin?\"\":/*#__PURE__*/_jsxs(\"div\",{className:\"cart-icon\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[cart.length,\" \"]}),/*#__PURE__*/_jsxs(Link,{to:\"/cart\",children:[/*#__PURE__*/_jsx(\"img\",{src:Cart,alt:\"\",width:\"30\"}),\" \"]})]})]});}export default Header;","map":{"version":3,"names":["React","useContext","useState","GlobalState","Menu","Close","Cart","Link","axios","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","defaults","withCredentials","Header","state","isLogged","UserAPI","isAdmin","cart","menu","setMenu","logoutUser","get","localStorage","removeItem","window","location","href","adminRouter","children","to","loggedRouter","onClick","styleMenu","left","className","src","alt","width","style","length"],"sources":["C:/Users/Fabian FF/Desktop/envio/sportShop/client/src/components/headers/Header.js"],"sourcesContent":["import React, {useContext, useState} from 'react';\nimport {GlobalState} from '../../GlobalState';\nimport  Menu from  './icons/menu.svg';\nimport  Close from  './icons/close.svg';\nimport  Cart from  './icons/cart.svg';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\naxios.defaults.withCredentials = true\n\n\n\nfunction Header() {\n\n  const state = useContext(GlobalState)\n\n  const [isLogged] = state.UserAPI.isLogged\n  const [isAdmin] = state.UserAPI.isAdmin\n  const [cart] = state.UserAPI.cart\n  const [menu, setMenu] = useState(false)\n\n  const logoutUser = async () =>{\n      await axios.get(\"/user/logout\")\n      localStorage.removeItem(\"firsLogin\")\n      window.location.href = \"/\"\n  }\n\n  const adminRouter = () =>{\n    return(\n      <>\n        <li><Link to={\"/create_product\"} >CREAR PRODUCTO</Link></li>\n        <li><Link to={\"/category\"} >CATEGORIAS</Link></li>\n      </>\n    )\n  }\n  const loggedRouter = () =>{\n    return(\n      <>\n        <li><Link to={\"/history\"} >Historial</Link></li>\n        <li><Link to={\"/\"} onClick={logoutUser}>Logout</Link></li>\n      </>\n    )\n  }\n\n  //const toggleMenu = () => setMenu(!menu)\n\n\n  const styleMenu = {\n    left: menu ? 0 : \"-100%\"\n  }\n\n\n\n  return (\n    <header>\n      <div className='menu' onClick={()=>setMenu(!menu)}>\n            <img src={Menu} alt=\"\" width=\"30\" />\n        </div>\n        <div className='logo'>\n            <h1>\n              <Link to={\"/\"}>{isAdmin ? \"Admininstrador\" : \"SPORT SHOP\" }</Link>\n            </h1>\n        </div>\n        <ul style={styleMenu}>\n          <li><Link to={\"/\"}>{isAdmin ? \"Productos\": \"Shop\" }</Link> </li>\n\n          {isAdmin && adminRouter()}\n          {\n            isLogged ? loggedRouter() : <li><Link to={\"/login\"}>Login â˜º Registro</Link> </li>\n          }\n\n          \n          <li onClick={()=>setMenu(!menu)}>\n            <img src={Close} alt=\"\" width=\"30\" className='menu'/>\n          </li>\n        </ul>\n        \n\n        {\n          isAdmin ? \"\" \n          :<div className='cart-icon'>\n          <span>{cart.length} </span>\n          <Link to={\"/cart\"}  ><img src={Cart} alt=\"\" width=\"30\" /> </Link>\n          </div>\n        }\n\n\n        \n    </header>\n  )\n}\n\nexport default Header;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}