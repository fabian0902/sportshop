{"ast":null,"code":"import React,{useContext,useState,useEffect}from'react';import{useParams,Link}from'react-router-dom';import{GlobalState}from\"../../../GlobalState\";import ProuctItem from\"../utils/productItem/ProductItem\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function DetailProduct(){const params=useParams();const state=useContext(GlobalState);const[products]=state.ProductsAPI.products;const addCart=state.UserAPI.addCart;const[detailProduct,setDetailProduct]=useState([]);useEffect(()=>{/*  console.log(\"re-render\"); */if(params.id){products.forEach(product=>{if(product._id===params.id)setDetailProduct(product);//muestra los relacionados\n});}},[params.id,products]);/*  console.log(detailProduct); */if(detailProduct.length===0)return null;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail\",children:[/*#__PURE__*/_jsx(\"img\",{src:detailProduct.images.url,alt:\"\",className:\"image\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"box-detail\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[detailProduct.title,\" \"]}),/*#__PURE__*/_jsxs(\"h6\",{children:[\"#id:\",detailProduct.product_id,\" \"]})]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",detailProduct.price,\" \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[detailProduct.description,\" \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[detailProduct.content,\" \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Vendido: \",detailProduct.sold,\" \"]}),/*#__PURE__*/_jsx(Link,{to:\"/cart\",className:\"cart\",onClick:()=>addCart(detailProduct),children:\" Agregar a carrito\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Productos Relacionados\"}),/*#__PURE__*/_jsx(\"div\",{className:\"products\",children:products.map(product=>{return product.category===detailProduct.category?/*#__PURE__*/_jsx(ProuctItem,{product:product},product._id):null;})})]})]});}export default DetailProduct;","map":{"version":3,"names":["React","useContext","useState","useEffect","useParams","Link","GlobalState","ProuctItem","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DetailProduct","params","state","products","ProductsAPI","addCart","UserAPI","detailProduct","setDetailProduct","id","forEach","product","_id","length","children","className","src","images","url","alt","title","product_id","price","description","content","sold","to","onClick","map","category"],"sources":["C:/Users/Fabian FF/Desktop/envio/sportShop/client/src/components/mainpages/detailProduct/DetailProduct.js"],"sourcesContent":["import React, {useContext, useState,useEffect} from 'react';\nimport {useParams, Link} from 'react-router-dom';\nimport {GlobalState} from \"../../../GlobalState\"\nimport ProuctItem from \"../utils/productItem/ProductItem\"\n\nfunction DetailProduct() {\n    const params = useParams()\n    const state = useContext(GlobalState)\n    const [products] = state.ProductsAPI.products\n    const addCart = state.UserAPI.addCart\n    const [detailProduct, setDetailProduct] = useState([])\n\n    useEffect(()=>{\n       /*  console.log(\"re-render\"); */\n        if(params.id){\n            products.forEach(product =>{\n                if(product._id === params.id) setDetailProduct(product)//muestra los relacionados\n            })\n        }\n    },[params.id,products])\n\n   /*  console.log(detailProduct); */\n    if(detailProduct.length === 0)return null\n\n  return (\n      <>\n      <div className='detail'>\n            <img src={detailProduct.images.url} alt=\"\" className='image'/>\n            <div className='box-detail'>\n                <div className='row'>\n                    <h2>{detailProduct.title} </h2>\n                    <h6>#id:{detailProduct.product_id} </h6>\n                    \n                </div>\n                <span>${detailProduct.price} </span>\n                <p>{detailProduct.description} </p>\n                <p>{detailProduct.content} </p>\n                <p>Vendido: {detailProduct.sold} </p>\n                <Link \n                    to={\"/cart\"} \n                    className='cart' \n                    onClick={()=>addCart(detailProduct)}> Agregar a carrito \n                </Link>\n            </div>\n        </div>\n        <div>\n            <h2>Productos Relacionados</h2>\n                <div className='products'>\n                    {\n                        products.map(product=>{\n                            return product.category === detailProduct.category\n                                ? <ProuctItem key={product._id} product={product} /> : null\n                        })\n                    }\n                </div>\n            </div>\n      </>\n);\n}\n\nexport default DetailProduct;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}