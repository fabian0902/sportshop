{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Fabian FF\\\\Desktop\\\\envio\\\\sportShop\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useContext,useState,useEffect}from'react';import{useParams,Link}from'react-router-dom';import{GlobalState}from\"../../../GlobalState\";import ProuctItem from\"../utils/productItem/ProductItem\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function DetailProduct(){var params=useParams();var state=useContext(GlobalState);var _state$ProductsAPI$pr=_slicedToArray(state.ProductsAPI.products,1),products=_state$ProductsAPI$pr[0];var addCart=state.UserAPI.addCart;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),detailProduct=_useState2[0],setDetailProduct=_useState2[1];useEffect(function(){/*  console.log(\"re-render\"); */if(params.id){products.forEach(function(product){if(product._id===params.id)setDetailProduct(product);//muestra los relacionados\n});}},[params.id,products]);/*  console.log(detailProduct); */if(detailProduct.length===0)return null;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail\",children:[/*#__PURE__*/_jsx(\"img\",{src:detailProduct.images.url,alt:\"\",className:\"image\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"box-detail\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[detailProduct.title,\" \"]}),/*#__PURE__*/_jsxs(\"h6\",{children:[\"#id:\",detailProduct.product_id,\" \"]})]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",detailProduct.price,\" \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[detailProduct.description,\" \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[detailProduct.content,\" \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Vendido: \",detailProduct.sold,\" \"]}),/*#__PURE__*/_jsx(Link,{to:\"/cart\",className:\"cart\",onClick:function onClick(){return addCart(detailProduct);},children:\" Agregar a carrito\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Productos Relacionados\"}),/*#__PURE__*/_jsx(\"div\",{className:\"products\",children:products.map(function(product){return product.category===detailProduct.category?/*#__PURE__*/_jsx(ProuctItem,{product:product},product._id):null;})})]})]});}export default DetailProduct;","map":{"version":3,"sources":["C:/Users/Fabian FF/Desktop/envio/sportShop/client/src/components/mainpages/detailProduct/DetailProduct.js"],"names":["React","useContext","useState","useEffect","useParams","Link","GlobalState","ProuctItem","DetailProduct","params","state","ProductsAPI","products","addCart","UserAPI","detailProduct","setDetailProduct","id","forEach","product","_id","length","images","url","title","product_id","price","description","content","sold","map","category"],"mappings":"mJAAA,MAAOA,CAAAA,KAAP,EAAeC,UAAf,CAA2BC,QAA3B,CAAoCC,SAApC,KAAoD,OAApD,CACA,OAAQC,SAAR,CAAmBC,IAAnB,KAA8B,kBAA9B,CACA,OAAQC,WAAR,KAA0B,sBAA1B,CACA,MAAOC,CAAAA,UAAP,KAAuB,kCAAvB,C,6IAEA,QAASC,CAAAA,aAAT,EAAyB,CACrB,GAAMC,CAAAA,MAAM,CAAGL,SAAS,EAAxB,CACA,GAAMM,CAAAA,KAAK,CAAGT,UAAU,CAACK,WAAD,CAAxB,CACA,yCAAmBI,KAAK,CAACC,WAAN,CAAkBC,QAArC,IAAOA,QAAP,0BACA,GAAMC,CAAAA,OAAO,CAAGH,KAAK,CAACI,OAAN,CAAcD,OAA9B,CACA,cAA0CX,QAAQ,CAAC,EAAD,CAAlD,wCAAOa,aAAP,eAAsBC,gBAAtB,eAEAb,SAAS,CAAC,UAAI,CACX,gCACC,GAAGM,MAAM,CAACQ,EAAV,CAAa,CACTL,QAAQ,CAACM,OAAT,CAAiB,SAAAC,OAAO,CAAG,CACvB,GAAGA,OAAO,CAACC,GAAR,GAAgBX,MAAM,CAACQ,EAA1B,CAA8BD,gBAAgB,CAACG,OAAD,CAAhB,CAAyB;AAC1D,CAFD,EAGH,CACJ,CAPQ,CAOP,CAACV,MAAM,CAACQ,EAAR,CAAWL,QAAX,CAPO,CAAT,CASD,kCACC,GAAGG,aAAa,CAACM,MAAd,GAAyB,CAA5B,CAA8B,MAAO,KAAP,CAEhC,mBACI,wCACA,aAAK,SAAS,CAAC,QAAf,wBACM,YAAK,GAAG,CAAEN,aAAa,CAACO,MAAd,CAAqBC,GAA/B,CAAoC,GAAG,CAAC,EAAxC,CAA2C,SAAS,CAAC,OAArD,EADN,cAEM,aAAK,SAAS,CAAC,YAAf,wBACI,aAAK,SAAS,CAAC,KAAf,wBACI,sBAAKR,aAAa,CAACS,KAAnB,OADJ,cAEI,6BAAST,aAAa,CAACU,UAAvB,OAFJ,GADJ,cAMI,4BAAQV,aAAa,CAACW,KAAtB,OANJ,cAOI,qBAAIX,aAAa,CAACY,WAAlB,OAPJ,cAQI,qBAAIZ,aAAa,CAACa,OAAlB,OARJ,cASI,iCAAab,aAAa,CAACc,IAA3B,OATJ,cAUI,KAAC,IAAD,EACI,EAAE,CAAE,OADR,CAEI,SAAS,CAAC,MAFd,CAGI,OAAO,CAAE,yBAAIhB,CAAAA,OAAO,CAACE,aAAD,CAAX,EAHb,gCAVJ,GAFN,GADA,cAoBE,oCACI,8CADJ,cAEQ,YAAK,SAAS,CAAC,UAAf,UAEQH,QAAQ,CAACkB,GAAT,CAAa,SAAAX,OAAO,CAAE,CAClB,MAAOA,CAAAA,OAAO,CAACY,QAAR,GAAqBhB,aAAa,CAACgB,QAAnC,cACD,KAAC,UAAD,EAA8B,OAAO,CAAEZ,OAAvC,EAAiBA,OAAO,CAACC,GAAzB,CADC,CACoD,IAD3D,CAEH,CAHD,CAFR,EAFR,GApBF,GADJ,CAkCD,CAED,cAAeZ,CAAAA,aAAf","sourcesContent":["import React, {useContext, useState,useEffect} from 'react';\nimport {useParams, Link} from 'react-router-dom';\nimport {GlobalState} from \"../../../GlobalState\"\nimport ProuctItem from \"../utils/productItem/ProductItem\"\n\nfunction DetailProduct() {\n    const params = useParams()\n    const state = useContext(GlobalState)\n    const [products] = state.ProductsAPI.products\n    const addCart = state.UserAPI.addCart\n    const [detailProduct, setDetailProduct] = useState([])\n\n    useEffect(()=>{\n       /*  console.log(\"re-render\"); */\n        if(params.id){\n            products.forEach(product =>{\n                if(product._id === params.id) setDetailProduct(product)//muestra los relacionados\n            })\n        }\n    },[params.id,products])\n\n   /*  console.log(detailProduct); */\n    if(detailProduct.length === 0)return null\n\n  return (\n      <>\n      <div className='detail'>\n            <img src={detailProduct.images.url} alt=\"\" className='image'/>\n            <div className='box-detail'>\n                <div className='row'>\n                    <h2>{detailProduct.title} </h2>\n                    <h6>#id:{detailProduct.product_id} </h6>\n                    \n                </div>\n                <span>${detailProduct.price} </span>\n                <p>{detailProduct.description} </p>\n                <p>{detailProduct.content} </p>\n                <p>Vendido: {detailProduct.sold} </p>\n                <Link \n                    to={\"/cart\"} \n                    className='cart' \n                    onClick={()=>addCart(detailProduct)}> Agregar a carrito \n                </Link>\n            </div>\n        </div>\n        <div>\n            <h2>Productos Relacionados</h2>\n                <div className='products'>\n                    {\n                        products.map(product=>{\n                            return product.category === detailProduct.category\n                                ? <ProuctItem key={product._id} product={product} /> : null\n                        })\n                    }\n                </div>\n            </div>\n      </>\n);\n}\n\nexport default DetailProduct;\n"]},"metadata":{},"sourceType":"module"}