{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\Fabian FF\\\\Desktop\\\\envio\\\\sportShop\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _defineProperty from\"C:\\\\Users\\\\Fabian FF\\\\Desktop\\\\envio\\\\sportShop\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\defineProperty.js\";import _objectSpread from\"C:\\\\Users\\\\Fabian FF\\\\Desktop\\\\envio\\\\sportShop\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";import _slicedToArray from\"C:\\\\Users\\\\Fabian FF\\\\Desktop\\\\envio\\\\sportShop\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Fabian FF\\\\Desktop\\\\envio\\\\sportShop\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState}from'react';import{Link}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";axios.defaults.withCredentials=true;function Login(){var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var onChangeInput=function onChangeInput(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},name,value)));};var loginSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return axios.post(\"/user/login\",_objectSpread({},user));case 4://post\nconsole.log(user);localStorage.setItem(\"firstLogin\",true);//xD\nconsole.log(\"aca pasa\");window.location.href=\"/\";console.log(\"windows.location.href\",window.location.href);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);alert(\"error al enviar datos de usuario\");// :)\ncase 14:case\"end\":return _context.stop();}}},_callee,null,[[1,11]]);}));return function loginSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"login-page\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:loginSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"INICIO DE SESI\\xD3N - LOGIN\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",required:true,placeholder:\"Email\",value:user.email,onChange:onChangeInput}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",required:true,autoComplete:\"on\",placeholder:\"Password\",value:user.password,onChange:onChangeInput}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\" Ingresar \"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Registrarse \"})]})]})});}export default Login;","map":{"version":3,"sources":["C:/Users/Fabian FF/Desktop/envio/sportShop/client/src/components/mainpages/auth/Login.js"],"names":["React","useState","Link","axios","defaults","withCredentials","Login","email","password","user","setUser","onChangeInput","e","target","name","value","loginSubmit","preventDefault","post","console","log","localStorage","setItem","window","location","href","alert"],"mappings":"kuBAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAGAA,KAAK,CAACC,QAAN,CAAeC,eAAf,CAAiC,IAAjC,CAEA,QAASC,CAAAA,KAAT,EAAiB,CAEf,cAAwBL,QAAQ,CAAC,CAC/BM,KAAK,CAAC,EADyB,CACrBC,QAAQ,CAAE,EADW,CAAD,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eAIA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAAAC,CAAC,CAAG,CACxB,cAAsBA,CAAC,CAACC,MAAxB,CAAOC,IAAP,WAAOA,IAAP,CAAaC,KAAb,WAAaA,KAAb,CACAL,OAAO,gCAAKD,IAAL,wBAAYK,IAAZ,CAAkBC,KAAlB,GAAP,CACD,CAHD,CAKA,GAAMC,CAAAA,WAAW,0FAAG,iBAAOJ,CAAP,kHAClBA,CAAC,CAACK,cAAF,GADkB,sCAGVd,CAAAA,KAAK,CAACe,IAAN,CAAW,aAAX,kBAA6BT,IAA7B,EAHU,QAG2B;AAC3CU,OAAO,CAACC,GAAR,CAAYX,IAAZ,EACAY,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAmC,IAAnC,EAAyC;AAC1CH,OAAO,CAACC,GAAR,CAAY,UAAZ,EACAG,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,GAAvB,CACAN,OAAO,CAACC,GAAR,CAAY,uBAAZ,CAAqCG,MAAM,CAACC,QAAP,CAAgBC,IAArD,EARiB,iFAWdC,KAAK,CAAC,kCAAD,CAAL,CAAyC;AAX3B,qEAAH,kBAAXV,CAAAA,WAAW,4CAAjB,CAiBA,mBACI,YAAK,SAAS,CAAC,YAAf,uBACI,cAAM,QAAQ,CAAEA,WAAhB,wBACE,mDADF,cAEE,cACE,IAAI,CAAC,OADP,CAEE,IAAI,CAAC,OAFP,CAGE,QAAQ,KAHV,CAIE,WAAW,CAAC,OAJd,CAKE,KAAK,CAAEP,IAAI,CAACF,KALd,CAME,QAAQ,CAAEI,aANZ,EAFF,cAYI,cACA,IAAI,CAAC,UADL,CAEA,IAAI,CAAC,UAFL,CAGA,QAAQ,KAHR,CAIA,YAAY,CAAC,IAJb,CAKA,WAAW,CAAC,UALZ,CAMA,KAAK,CAAEF,IAAI,CAACD,QANZ,CAOA,QAAQ,CAAEG,aAPV,EAZJ,cAuBI,aAAK,SAAS,CAAC,KAAf,wBACI,eAAQ,IAAI,CAAC,QAAb,wBADJ,cAEI,KAAC,IAAD,EAAM,EAAE,CAAE,WAAV,0BAFJ,GAvBJ,GADJ,EADJ,CAiCD,CAED,cAAeL,CAAAA,KAAf","sourcesContent":["import React, {useState} from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\n\naxios.defaults.withCredentials = true \n\nfunction Login() {\n\n  const [user, setUser] = useState({\n    email:\"\", password: \"\"\n  })\n\n  const onChangeInput = e =>{\n    const {name, value} = e.target;\n    setUser({...user, [name]:value})\n  }\n\n  const loginSubmit = async  e =>{\n    e.preventDefault()\n    try { \n      await axios.post(\"/user/login\",{...user} ) //post\n      console.log(user)\n      localStorage.setItem(\"firstLogin\", true) //xD\n     console.log(\"aca pasa\")\n     window.location.href = \"/\"\n     console.log(\"windows.location.href\", window.location.href)\n\n    } catch (err) {\n        alert(\"error al enviar datos de usuario\")// :)\n    }\n  }\n\n  \n\n  return (\n      <div className='login-page'>\n          <form onSubmit={loginSubmit} > \n            <h2>INICIO DE SESIÃ“N - LOGIN</h2>\n            <input \n              type=\"email\" \n              name='email' \n              required \n              placeholder='Email' \n              value={user.email} \n              onChange={onChangeInput}\n\n              />\n\n              <input \n              type=\"password\" \n              name='password' \n              required \n              autoComplete='on'\n              placeholder='Password' \n              value={user.password} \n              onChange={onChangeInput}\n\n              />\n\n              <div className='row'>\n                  <button type='submit'> Ingresar </button>\n                  <Link to={\"/register\"} >Registrarse </Link>\n\n              </div>\n          </form>\n      </div>\n  );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}